OCAMLINCLUDES = concern data mlLoader loader
OCAML_LIBS = concern/concern data/data mlLoader/mlLoader loader/loader

NATIVE_ENABLED = true
BYTE_ENABLED = true

MENHIR_ENABLED = true

OCAMLOPTFLAGS += -inline 100

USE_OCAMLFIND = true
OCAMLPACKS[] =
  core
  re2
  ppx_deriving
  ppx_deriving.create
  ppx_deriving.eq
  ppx_deriving.ord
  ppx_deriving.show
  ppx_sexp_conv
  ppx_hash
  ppx_variants_conv
  ppx_fields_conv
  ppx_compare
  ppx_driver
OCAMLFLAGS = -warn-error A -thread

OCamlProgram(fp_mc, fp_mc)

.DEFAULT: fp_mc$(EXE)

.SUBDIRS: concern data mlLoader loader

.PHONY: clean
clean:
  rm -f *.cmo *.cmx *.cmi *.cmxa *.a *.omc *.o